{"version":3,"sources":["webpack:///./src/views/product-page.vue?4f68","webpack:///src/views/product-page.vue","webpack:///./src/views/product-page.vue?4a49","webpack:///./src/views/product-page.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","status","isLoading","on","$event","$set","preventDefault","backward","_v","productData","imageUrl","_s","category_series","title","description","detail","height","width","depth","seatingHeight","armrestHeight","legsHeight","_f","origin_price","_e","price","class","qty","directives","name","rawName","value","expression","modifiers","domProps","target","composing","_n","$forceUpdate","addCart","id","_m","transPage","similarPre","totalTransPage","similarNext","_l","item","key","style","translating","toProductPage","staticRenderFns","data","nextDisabled","uploadCart","products","screenWidth","methods","getProductData","console","log","vm","$http","get","api","then","response","product","getProductsData","product_id","post","success","$bus","$emit","message","$router","back","push","computed","filterSimilar","Math","floor","length","created","window","onresize","$route","fullPath","indexOf","component"],"mappings":"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","file":"js/chunk-2d0d350d.5df9448d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid pdPage section-full-height pb-9\"},[_c('loading',{attrs:{\"active\":_vm.status.isLoading},on:{\"update:active\":function($event){return _vm.$set(_vm.status, \"isLoading\", $event)}}}),_c('div',{staticClass:\"row mt-md-4\"},[_c('div',{staticClass:\"col-md-7\"},[_c('div',{staticClass:\"pdPage-imgSection\"},[_c('div',{staticClass:\"pdPage-img shadow-lg\"},[_c('a',{staticClass:\"backwardBtn\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.backward($event)}}},[_vm._v(\"Back\")]),_c('img',{staticClass:\"w-100\",attrs:{\"src\":_vm.productData.imageUrl,\"alt\":\"\"}})])])]),_c('div',{staticClass:\"col-md-5\"},[_c('div',{staticClass:\"pdPage-info px-4\"},[_c('div',{staticClass:\"pb-4 border-bottom\"},[_c('h4',{staticClass:\"text-muted mt-2 mt-sm-0\"},[_vm._v(_vm._s(_vm.productData.category_series))]),_c('h2',{},[_vm._v(_vm._s(_vm.productData.title))])]),_c('div',{staticClass:\"py-4\"},[_c('h4',[_vm._v(\"【商品介紹】\")]),_c('p',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.productData.description))])]),_c('div',{staticClass:\"py-4\"},[_c('h4',[_vm._v(\"【商品詳情】\")]),_c('div',{staticClass:\"form-row justify-content-center mt-4\"},[_c('div',{staticClass:\"col-10\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"高度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.height)+\" cm\")])]),_c('tr',[_c('th',[_vm._v(\"寬度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.width)+\" cm\")])]),_c('tr',[_c('th',[_vm._v(\"深度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.depth)+\" cm\")])]),_c('tr',[_c('th',[_vm._v(\"座位高度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.seatingHeight)+\" cm\")])]),_c('tr',[_c('th',[_vm._v(\"扶手高度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.armrestHeight)+\" cm\")])]),_c('tr',[_c('th',[_vm._v(\"支腿高度:\")]),_c('td',[_vm._v(_vm._s(_vm.detail.legsHeight)+\" cm\")])])])])])])]),_c('div',{staticClass:\"pdPage-info-price px-3 text-right\"},[(_vm.productData.origin_price)?_c('del',[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.productData.origin_price)))]):_vm._e(),_c('div',{staticClass:\"text-success h3 d-inline-block\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.productData.price)))])]),_c('div',{staticClass:\"row mx-0 no-gutters\"},[_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",class:{'disabled':_vm.qty ===1},attrs:{\"href\":\"#\",\"id\":\"button-addon1\"},on:{\"click\":function($event){$event.preventDefault();_vm.qty = _vm.qty - 1}}},[_vm._v(\"−\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.qty),expression:\"qty\",modifiers:{\"number\":true}}],staticClass:\"form-control text-center\",attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.qty)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.qty=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",class:{'disabled':_vm.qty ===99},attrs:{\"href\":\"#\",\"id\":\"button-addon2\"},on:{\"click\":function($event){$event.preventDefault();_vm.qty = _vm.qty + 1}}},[_vm._v(\"+\")])])])]),_c('div',{staticClass:\"col-lg-5\"},[_c('button',{staticClass:\"btn btn-block btn-primary border ml-lg-2 mt-lg-0 mt-3 rounded-0\",on:{\"click\":function($event){return _vm.addCart(_vm.productData.id,_vm.qty)}}},[(_vm.status.uploadCart)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n              加到購物車\\n              \"),_c('i',{staticClass:\"fas fa-shopping-cart\"})])])])])]),_c('div',{staticClass:\"col-12 mt-6\"},[_c('div',{staticClass:\"similar-products-section px-3\"},[_vm._m(0),_c('div',{staticClass:\"row py-3 similar-products-content\"},[_c('button',{staticClass:\"btn pre\",attrs:{\"disabled\":_vm.transPage == 0},on:{\"click\":function($event){$event.preventDefault();return _vm.similarPre($event)}}},[_c('i',{staticClass:\"fas fa-angle-left\"})]),_c('button',{staticClass:\"btn next\",attrs:{\"disabled\":_vm.transPage  == _vm.totalTransPage},on:{\"click\":_vm.similarNext}},[_c('i',{staticClass:\"fas fa-angle-right\"})]),_vm._l((_vm.filterSimilar),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-3 col-md-4 col-sm-6 col-12 similar-products\",style:((\"left:\" + _vm.translating + \"%\"))},[_c('div',{staticClass:\"products-card text-center border border-white shadow-sm\"},[_c('div',{staticClass:\"products-card-imgSection\"},[_c('a',{staticClass:\"products-card-link text-decoration-none\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toProductPage(item.id)}}},[_vm._m(1,true)]),_c('div',{staticClass:\"bg-cover similar-products-card-img\",style:((\"background-image:url('\" + (item.imageUrl) + \"')\"))})]),_c('div',{staticClass:\"products-card-footer text-muted border-0 row no-gutters\"},[_c('div',{staticClass:\"col-12 py-3\"},[_c('div',{staticClass:\"products-card-title text-center text-muted\"},[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"products-card-originPrice text-right pr-3\"},[_vm._v(\"原價 \"+_vm._s(_vm._f(\"currency\")(item.origin_price)))]),_c('div',{staticClass:\"products-card-price text-right pr-3\"},[_vm._v(\"特價 \"+_vm._s(_vm._f(\"currency\")(item.price)))])]),_c('div',{staticClass:\"col-12 p-1 d-flex\"},[_c('button',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":function($event){return _vm.toProductPage(item.id)}}},[_vm._v(\"更多細節\")])])])])])})],2)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"similar-products-title\"},[_c('span',{staticClass:\"similar-products-title-content\"},[_vm._v(\"相關商品\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"products-card-overlay d-flex\"},[_c('div',{staticClass:\"btn btn-outline-secondary btn-sm m-auto\"},[_vm._v(\"更多細節\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container-fluid pdPage section-full-height pb-9\">\n    <loading :active.sync=\"status.isLoading\"></loading>\n    <div class=\"row mt-md-4\">\n      <!-- 商品圖片 section-->\n      <div class=\"col-md-7\">\n        <div class=\"pdPage-imgSection\">\n          <div class=\"pdPage-img shadow-lg\">\n            <a href=\"#\" class=\"backwardBtn\" @click.prevent=\"backward\">Back</a>\n            <img class=\"w-100\" :src=\"productData.imageUrl\" alt />\n          </div>\n        </div>\n      </div>\n      <!-- 商品資訊 section-->\n      <div class=\"col-md-5\">\n        <div class=\"pdPage-info px-4\">\n          <div class=\"pb-4 border-bottom\">\n            <h4 class=\"text-muted mt-2 mt-sm-0\">{{productData.category_series}}</h4>\n            <h2 class>{{productData.title}}</h2>\n          </div>\n\n          <div class=\"py-4\">\n            <h4>【商品介紹】</h4>\n            <p class=\"mt-3\">{{productData.description}}</p>\n          </div>\n          <div class=\"py-4\">\n            <h4>【商品詳情】</h4>\n            <div class=\"form-row justify-content-center mt-4\">\n              <div class=\"col-10\">\n                <table class=\"table\">\n                  <tbody>\n                    <tr>\n                      <th>高度:</th>\n                      <td>{{detail.height}} cm</td>\n                    </tr>\n                    <tr>\n                      <th>寬度:</th>\n                      <td>{{detail.width}} cm</td>\n                    </tr>\n                    <tr>\n                      <th>深度:</th>\n                      <td>{{detail.depth}} cm</td>\n                    </tr>\n                    <tr>\n                      <th>座位高度:</th>\n                      <td>{{detail.seatingHeight}} cm</td>\n                    </tr>\n                    <tr>\n                      <th>扶手高度:</th>\n                      <td>{{detail.armrestHeight}} cm</td>\n                    </tr>\n                    <tr>\n                      <th>支腿高度:</th>\n                      <td>{{detail.legsHeight}} cm</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <div class=\"pdPage-info-price px-3 text-right\">\n            <del v-if=\"productData.origin_price\">NT{{productData.origin_price|currency}}</del>\n            <div class=\"text-success h3 d-inline-block\">NT{{productData.price|currency}}</div>\n          </div>\n          <div class=\"row mx-0 no-gutters\">\n            <div class=\"col-lg-5\">\n              <div class=\"input-group\">\n                <div class=\"input-group-prepend\">\n                  <a\n                    href=\"#\"\n                    class=\"btn btn-outline-secondary\"\n                    :class=\"{'disabled':qty ===1}\"\n                    id=\"button-addon1\"\n                    @click.prevent=\"qty = qty - 1\"\n                  >−</a>\n                </div>\n                <input type=\"number\" min=\"1\" class=\"form-control text-center\" v-model.number=\"qty\" />\n                <div class=\"input-group-append\">\n                  <a\n                    href=\"#\"\n                    class=\"btn btn-outline-secondary\"\n                    :class=\"{'disabled':qty ===99}\"\n                    id=\"button-addon2\"\n                    @click.prevent=\"qty = qty + 1\"\n                  >+</a>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-5\">\n              <button\n                class=\"btn btn-block btn-primary border ml-lg-2 mt-lg-0 mt-3 rounded-0\"\n                @click=\"addCart(productData.id,qty)\"\n              >\n                <i class=\"fas fa-spinner fa-spin\" v-if=\"status.uploadCart\"></i>\n                加到購物車\n                <i class=\"fas fa-shopping-cart\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--    相關商品 section    -->\n      <div class=\"col-12 mt-6\">\n        <div class=\"similar-products-section px-3\">\n          <div class=\"similar-products-title\">\n            <span class=\"similar-products-title-content\">相關商品</span>\n          </div>\n          <div class=\"row py-3 similar-products-content\">\n            <button class=\"btn pre\" @click.prevent=\"similarPre\" :disabled=\"transPage == 0\">\n              <i class=\"fas fa-angle-left\"></i>\n            </button>\n            <button class=\"btn next\" @click=\"similarNext\" :disabled=\"transPage  == totalTransPage\">\n              <i class=\"fas fa-angle-right\"></i>\n            </button>\n            <div\n              class=\"col-lg-3 col-md-4 col-sm-6 col-12 similar-products\"\n              v-for=\"item in filterSimilar\"\n              :key=\"item.id\"\n              :style=\"`left:${translating}%`\"\n            >\n              <div class=\"products-card text-center border border-white shadow-sm\">\n                <div class=\"products-card-imgSection\">\n                  <a\n                    href=\"#\"\n                    class=\"products-card-link text-decoration-none\"\n                    @click.prevent=\"toProductPage(item.id)\"\n                  >\n                    <div class=\"products-card-overlay d-flex\">\n                      <div class=\"btn btn-outline-secondary btn-sm m-auto\">更多細節</div>\n                    </div>\n                  </a>\n                  <div\n                    class=\"bg-cover similar-products-card-img\"\n                    :style=\"`background-image:url('${item.imageUrl}')`\"\n                  ></div>\n                </div>\n                <div class=\"products-card-footer text-muted border-0 row no-gutters\">\n                  <div class=\"col-12 py-3\">\n                    <div class=\"products-card-title text-center text-muted\">{{item.title}}</div>\n                  </div>\n                  <div class=\"col-12\">\n                    <div\n                      class=\"products-card-originPrice text-right pr-3\"\n                    >原價 {{item.origin_price|currency}}</div>\n                    <div class=\"products-card-price text-right pr-3\">特價 {{item.price|currency}}</div>\n                  </div>\n                  <div class=\"col-12 p-1 d-flex\">\n                    <button class=\"btn btn-primary btn-block\" @click=\"toProductPage(item.id)\">更多細節</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// 外部插件\nimport $ from 'jquery'\nexport default {\n  data () {\n    return {\n      nextDisabled: false,\n      status: {\n        isLoading: false,\n        uploadCart: false // 作為商品加入購物車時的過場動圖條件\n      },\n      translating: 0, // 綁定DOM style='left:值 '，相關商品是利用flex-nowrap overflow-hidden變成一長列，所以利用位移來製造移動的效果\n      transPage: 0,\n      products: [],\n      productData: {\n        // 取得單筆資料\n        imageUrl: ''\n      },\n      qty: 1, // 這邊綁定使用者增加的數量，注意在DOM上的v-model要添加修飾符.number，否則預設會將值轉成string，導致自行輸入數字再利用btn添加時數字錯亂\n\n      detail: {\n        height: '85½',\n        width: '366',\n        depth: '325',\n        seatingHeight: '41½',\n        armrestHeight: '61½',\n        legsHeight: '3½'\n      },\n      screenWidth: 0\n    }\n  },\n  methods: {\n    // 取得單筆商品資料，利用$route.params來取得要做AJAX的目標\n    getProductData () {\n      const vm = this\n      const id = vm.$route.params.id\n      console.log(id)\n      vm.status.isLoading = true\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`\n      vm.$http.get(api).then(response => {\n        console.log('取得單筆產品資料：', response)\n        vm.productData = response.data.product\n        vm.status.isLoading = false\n      })\n    },\n    // 取得全部資料，作為相關商品的資料\n    getProductsData () {\n      const vm = this\n      vm.status.isLoading = true\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`\n      vm.$http.get(api).then(response => {\n        console.log('取得全部商品資料：', response)\n        vm.products = response.data.products\n        vm.status.isLoading = false\n      })\n    },\n    // 添加商品到購物車\n    addCart (id, qty = 1) {\n      const vm = this\n      const addTarget = event.target\n      $(addTarget).attr('disabled', true)\n      vm.status.uploadCart = true // 作為購物車動態icon的開關條件\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      let item = {\n        product_id: id,\n        qty: qty\n      }\n      vm.$http.post(api, { data: item }).then(response => {\n        console.log('加到購物車內：', response)\n        if (response.data.success) {\n          vm.status.uploadCart = false // 作為購物車動態icon的開關條件\n          $(addTarget).removeAttr('disabled')\n          vm.$bus.$emit('message:push', response.data.message, 'success') // 觸發事件使頁面回應動作後的訊息，可參考bus.js\n          vm.$bus.$emit('reGetCart') // 觸發重新讀取購物車資料的事件，可參考bus.js\n        } else {\n          vm.status.uploadCart = false\n          $(addTarget).removeAttr('disabled')\n          vm.$bus.$emit('message:push', response.data.message, 'danger')\n        }\n      })\n    },\n    // 回到上一頁\n    backward () {\n      this.$router.back()\n    },\n    // 向右位移相關商品\n    similarNext () {\n      const vm = this\n      vm.transPage += 1 // 記錄位移頁碼，作為防止過度位移的參考\n      vm.translating = -100 * vm.transPage\n    },\n    // 向左位移相關商品\n    similarPre () {\n      const vm = this\n      vm.transPage -= 1 // 記錄位移頁碼\n      vm.translating = -100 * vm.transPage\n    },\n    // 從目前商品頁面導航至相關商品的目標商品，注意這邊要重新getProductData一次，否則會呈現同一筆資料\n    toProductPage (id) {\n      const vm = this\n      vm.$router.push(`/product/${id}`)\n      // $(window).scrollTop(0);\n      vm.getProductData()\n    }\n  },\n  computed: {\n    // 先過濾吊同樣的商品，再過濾同series的商品。\n    filterSimilar () {\n      const vm = this\n      return vm.products\n        .filter(item => {\n          return item.id !== vm.$route.params.id\n        })\n        .filter(item => {\n          return item.category_series === vm.productData.category_series\n        })\n    },\n    // 計算目前相關商品數量因頁面大小顯示，會生成的頁數（位移的最大值）。\n    // 當目前頁碼與總頁數相等時則button會開啟disabled的屬性，使移動的韓式無法觸發\n    // 原本使用a連結來套用disabled ClassName禁止觸發位移函式，但點擊時會穿到而發生點擊到下方的相關商品，導致頁面轉換，所以改以button來使用\n    totalTransPage () {\n      // console.log($(window).width());\n      const vm = this\n      if (vm.screenWidth < 576) {\n        // console.log(\"<576\");\n        return Math.floor(vm.filterSimilar.length)\n      } else if (vm.screenWidth < 768 && vm.screenWidth >= 576) {\n        // console.log(\">576\");\n        return Math.floor(vm.filterSimilar.length / 2)\n      } else if (vm.screenWidth < 992 && vm.screenWidth >= 768) {\n        // console.log(\">768\");\n        return Math.floor(vm.filterSimilar.length / 3)\n      } else {\n        // console.log(\">992\");\n        return Math.floor(vm.filterSimilar.length / 4)\n      }\n    }\n  },\n  created () {\n    const vm = this\n    vm.getProductData()\n    vm.getProductsData()\n    vm.screenWidth = $(window).width() // 在渲染初期就要宣告screenWidth數值，否則會以 screenWidth < 576的方式計算total\n    // 當視窗大小改變時重新取得視窗寬度\n    window.onresize = () => {\n      if (vm.$route.fullPath.indexOf('/product/') !== 0) {\n        window.onresize = null // 取消監視\n        return // return 退出函式，否則下面語法一樣會執行一次。\n      }\n      vm.screenWidth = $(window).width()\n      // console.log($(window).width());\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./product-page.vue?vue&type=template&id=23e9a14a&\"\nimport script from \"./product-page.vue?vue&type=script&lang=js&\"\nexport * from \"./product-page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}