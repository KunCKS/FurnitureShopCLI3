{"version":3,"sources":["webpack:///./src/views/customer-checkout.vue?1b3b","webpack:///src/views/customer-checkout.vue","webpack:///./src/views/customer-checkout.vue?30c7","webpack:///./src/views/customer-checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","status","isLoading","on","$event","$set","_m","class","isPaid","_v","_s","_f","orderData","create_at","id","user","email","name","tel","address","total","_e","checkout","staticRenderFns","data","methods","getOrderData","vm","$http","get","api","then","response","order","$bus","$emit","$router","push","is_paid","post","success","created","component"],"mappings":"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","file":"js/chunk-2d0e9970.819db875.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"min-height\":\"calc(100vh - 83.38px - 205.6px - 24px)\"}},[_c('loading',{attrs:{\"active\":_vm.status.isLoading},on:{\"update:active\":function($event){return _vm.$set(_vm.status, \"isLoading\", $event)}}}),_c('div',{staticClass:\"row justify-content-center my-4\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-row\"},[_vm._m(0),_c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert text-center alert-rounded\",class:{'alert-primary':!_vm.status.isPaid,'border-primary':_vm.status.isPaid},attrs:{\"role\":\"alert\"}},[_vm._v(\"2.金流付款\")])]),_c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert text-center alert-rounded\",class:{'alert-primary':_vm.status.isPaid,'border-primary':!_vm.status.isPaid},attrs:{\"role\":\"alert\"}},[_vm._v(\"3.完成\")])])])]),_c('div',{staticClass:\"col-md-6 mt-md-4\"},[_c('div',{staticClass:\"row border p-4 shadow justify-content-center\"},[_c('div',{staticClass:\"col-12\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0\",attrs:{\"width\":\"120\"}},[_vm._v(\"下單日期\")]),_c('td',{staticClass:\"border-0\"},[_vm._v(_vm._s(_vm._f(\"format-time\")(_vm.orderData.create_at)))])]),_c('tr',[_c('th',[_vm._v(\"訂單編號\")]),_c('td',[_vm._v(_vm._s(_vm.orderData.id))])]),_c('tr',[_c('th',[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.orderData.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.orderData.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.orderData.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.orderData.user.address))])]),_c('tr',[_c('th',[_vm._v(\"訂單金額\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.orderData.total)))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.status.isPaid)?_c('span',[_vm._v(\"尚未付款\")]):_vm._e(),(_vm.status.isPaid)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")]):_vm._e()])])])])]),(!_vm.status.isPaid)?_c('div',{staticClass:\"col-md-5\"},[_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger btn-block\",on:{\"click\":_vm.checkout}},[_vm._v(\"確認付款去\")])])]):_vm._e()])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert border-primary text-center alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"1.輸入訂單資料\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\" style=\"min-height:calc(100vh - 83.38px - 205.6px - 24px)\">\n    <loading :active.sync=\"status.isLoading\"></loading>\n    <div class=\"row justify-content-center my-4\">\n      <div class=\"col-12\">\n        <div class=\"form-row\">\n          <div class=\"col-12 col-sm\">\n            <div class=\"alert border-primary text-center alert-rounded\" role=\"alert\">1.輸入訂單資料</div>\n          </div>\n          <div class=\"col-12 col-sm\">\n            <div\n              class=\"alert text-center alert-rounded\"\n              :class=\"{'alert-primary':!status.isPaid,'border-primary':status.isPaid}\"\n              role=\"alert\"\n            >2.金流付款</div>\n          </div>\n          <div class=\"col-12 col-sm\">\n            <div\n              class=\"alert text-center alert-rounded\"\n              :class=\"{'alert-primary':status.isPaid,'border-primary':!status.isPaid}\"\n              role=\"alert\"\n            >3.完成</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 mt-md-4\">\n        <div class=\"row border p-4 shadow justify-content-center\">\n          <div class=\"col-12\">\n            <table class=\"table\">\n              <tbody>\n                <tr>\n                  <th class=\"border-0\" width=\"120\">下單日期</th>\n                  <td class=\"border-0\">{{orderData.create_at|format-time}}</td>\n                </tr>\n                <tr>\n                  <th>訂單編號</th>\n                  <td>{{orderData.id}}</td>\n                </tr>\n                <tr>\n                  <th>Email</th>\n                  <td>{{orderData.user.email}}</td>\n                </tr>\n                <tr>\n                  <th>姓名</th>\n                  <td>{{orderData.user.name}}</td>\n                </tr>\n                <tr>\n                  <th>收件人電話</th>\n                  <td>{{orderData.user.tel}}</td>\n                </tr>\n                <tr>\n                  <th>收件人地址</th>\n                  <td>{{orderData.user.address}}</td>\n                </tr>\n                <tr>\n                  <th>訂單金額</th>\n                  <td>{{orderData.total|currency}}</td>\n                </tr>\n                <tr>\n                  <th>付款狀態</th>\n                  <td>\n                    <span v-if=\"!status.isPaid\">尚未付款</span>\n                    <span class=\"text-success\" v-if=\"status.isPaid\">付款完成</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"col-md-5\" v-if=\"!status.isPaid\">\n            <div class=\"text-right\">\n              <button class=\"btn btn-danger btn-block\" @click=\"checkout\">確認付款去</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nexport default {\n  data () {\n    return {\n      orderData: { user: { email: '' } },\n      status: {\n        isLoading: false,\n        isPaid: false // 作為是否已付款的條件變數\n      }\n    }\n  },\n  methods: {\n    // 取得訂單資料\n    getOrderData () {\n      const vm = this\n      vm.status.isLoading = true\n      const id = vm.$route.params.id // 利用route提供要帶入api的值\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${id}`\n      vm.$http.get(api).then(response => {\n        // console.log(\"取得訂單資料：\", response);\n        if (response.data.order == null) {\n          vm.$bus.$emit('message:push', '查無此訂單', 'warning')\n          vm.$router.push('/home')\n        } else {\n          vm.orderData = response.data.order\n          vm.status.isPaid = response.data.order.is_paid\n          vm.status.isLoading = false\n        }\n      })\n    },\n    // 確定付款功能\n    checkout (e) {\n      const vm = this\n      vm.status.isLoading = true\n      $(e.target).addClass('disabled')\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${vm.orderData.id}`\n      vm.$http.post(api).then(response => {\n        // console.log(\"結帳付款：\", response);\n        if (response.data.success) {\n          vm.status.isPaid = true\n          vm.status.isLoading = false\n        } else {\n          vm.$bus.$emit('message:push', '付款失敗', 'danger')\n          vm.status.isLoading = false\n        }\n      })\n    }\n  },\n  created () {\n    this.getOrderData()\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer-checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer-checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customer-checkout.vue?vue&type=template&id=8533f64a&\"\nimport script from \"./customer-checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./customer-checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}