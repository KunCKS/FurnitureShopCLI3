(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9970"],{"8dd2":function(t,a,s){"use strict";s.r(a);var r=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container",staticStyle:{"min-height":"calc(100vh - 83.38px - 205.6px - 24px)"}},[s("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){return t.$set(t.status,"isLoading",a)}}}),s("div",{staticClass:"row justify-content-center my-4"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-row"},[t._m(0),s("div",{staticClass:"col-12 col-sm"},[s("div",{staticClass:"alert text-center alert-rounded",class:{"alert-primary":!t.status.isPaid,"border-primary":t.status.isPaid},attrs:{role:"alert"}},[t._v("2.金流付款")])]),s("div",{staticClass:"col-12 col-sm"},[s("div",{staticClass:"alert text-center alert-rounded",class:{"alert-primary":t.status.isPaid,"border-primary":!t.status.isPaid},attrs:{role:"alert"}},[t._v("3.完成")])])])]),s("div",{staticClass:"col-md-6 mt-md-4"},[s("div",{staticClass:"row border p-4 shadow justify-content-center"},[s("div",{staticClass:"col-12"},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",{staticClass:"border-0",attrs:{width:"120"}},[t._v("下單日期")]),s("td",{staticClass:"border-0"},[t._v(t._s(t._f("format-time")(t.orderData.create_at)))])]),s("tr",[s("th",[t._v("訂單編號")]),s("td",[t._v(t._s(t.orderData.id))])]),s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.orderData.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.orderData.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.orderData.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.orderData.user.address))])]),s("tr",[s("th",[t._v("訂單金額")]),s("td",[t._v(t._s(t._f("currency")(t.orderData.total)))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",[t.status.isPaid?t._e():s("span",[t._v("尚未付款")]),t.status.isPaid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):t._e()])])])])]),t.status.isPaid?t._e():s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-danger btn-block",on:{click:t.checkout}},[t._v("確認付款去")])])])])])])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-12 col-sm"},[s("div",{staticClass:"alert border-primary text-center alert-rounded",attrs:{role:"alert"}},[t._v("1.輸入訂單資料")])])}],i=s("1157"),d=s.n(i),o={data:function(){return{orderData:{user:{email:""}},status:{isLoading:!1,isPaid:!1}}},methods:{getOrderData:function(){var t=this;t.status.isLoading=!0;var a=t.$route.params.id,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("komu","/order/").concat(a);t.$http.get(s).then((function(a){null==a.data.order?(t.$bus.$emit("message:push","查無此訂單","warning"),t.$router.push("/home")):(t.orderData=a.data.order,t.status.isPaid=a.data.order.is_paid,t.status.isLoading=!1)}))},checkout:function(t){var a=this;a.status.isLoading=!0,d()(t.target).addClass("disabled");var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("komu","/pay/").concat(a.orderData.id);a.$http.post(s).then((function(t){t.data.success?(a.status.isPaid=!0,a.status.isLoading=!1):(a.$bus.$emit("message:push","付款失敗","danger"),a.status.isLoading=!1)}))}},created:function(){this.getOrderData()}},c=o,n=s("2877"),l=Object(n["a"])(c,r,e,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0e9970.819db875.js.map